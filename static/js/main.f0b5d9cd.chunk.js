(this["webpackJsonpbattleship-react"]=this["webpackJsonpbattleship-react"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(4),o=n.n(a),c=(n(9),n(0)),s=function(){return Object(c.jsx)("div",{children:"Battleship"})},d=n(2),u=function(e){var t=e.board.randomizeShips(65,128),n=Object(d.a)(Array(129).keys()).slice(65);return Object(c.jsxs)("div",{className:"Battlefield",children:[Object(c.jsx)("div",{className:"boardName",children:e.playerName}),Object(c.jsx)("div",{className:"Battlegrid ".concat(e.playerName),children:n.map((function(e){return t.indexOf(e)>=0?Object(c.jsx)("div",{className:"grid ship","data-key":e},e):Object(c.jsx)("div",{className:"grid","data-key":e},e)}))})]})},h=function(e){var t=e.board.randomizeShips(1,64),n=Object(d.a)(Array(65).keys()).slice(1);return Object(c.jsxs)("div",{className:"Battlefield",children:[Object(c.jsx)("div",{className:"boardName",children:e.playerName}),Object(c.jsx)("div",{className:"Battlegrid ".concat(e.playerName),children:n.map((function(e){return t.indexOf(e)>=0?Object(c.jsx)("div",{className:"grid ship","data-key":e},e):Object(c.jsx)("div",{className:"grid","data-key":e},e)}))})]})},l=function(){var e=[],t=[];return{position:e,positionHit:t,setPosition:function(t){for(var n=0;n<t.length;n++)e[n]=t[n]},hit:function(n){e.indexOf(n)>=0&&!(t.indexOf(n)>=0)&&t.push(n)},isSunk:function(){return t.length===e.length}}},f=function(){var e=l(),t=l(),n=l(),r=l(),i=l(),a=[e,t,n,r,i],o=[],c=[],s=function(e,t,n,r,i){if(0===t)for(;e>0;e--)n.push(n[0]+e);else if(1===t)for(;e>0;e--)n.push(n[0]+8*e);return 0===t?Math.max.apply(Math,Object(d.a)(n))<i+1&&!n.some((function(e){return r.includes(e)}))&&(n.every((function(e){return e>i-64&&e<i-55}))||n.every((function(e){return e>i-56&&e<i-47}))||n.every((function(e){return e>i-48&&e<i-39}))||n.every((function(e){return e>i-40&&e<i-31}))||n.every((function(e){return e>i-32&&e<i-23}))||n.every((function(e){return e>i-24&&e<i-15}))||n.every((function(e){return e>i-16&&e<i-7}))||n.every((function(e){return e>i-8&&e<i+1})))?{condition:!0,origin:n}:{condition:!1,origin:n}:1===t?Math.max.apply(Math,Object(d.a)(n))<i+1&&!n.some((function(e){return r.includes(e)}))?{condition:!0,origin:n}:{condition:!1,origin:n}:void 0},u=function(){for(var e=0,t=0;t<a.length&&!1!==a[t].isSunk();t++)e+=1;return e===a.length};return{hitShots:c,missedShots:o,receiveAttack:function(e){for(var t=0,n=0;n<a.length;n++)if(a[n].position.indexOf(e)>=0){if(a[n].hit(e),c.push(e),u())return!0}else t+=1;t===a.length&&o.push(e)},allSunk:u,randomizeShips:function(e,t){for(var n=[],r=a.length;r>0;r--){for(var i=Math.floor(2*Math.random()),o=[Math.floor(64*Math.random())+e],c=s(r-1,i,o,n,t);!0!==c.condition;)o=[Math.floor(64*Math.random())+e],c=s(r-1,i,o,n,t);n=n.concat(c.origin),a[r-1].setPosition(c.origin)}return n},shipOne:e,shipTwo:t,shipThree:n,shipFour:r,shipFive:i}},m=function(e,t){return{fireShot:function(n){return!(t.hitShots.indexOf(n)>=0||t.missedShots.indexOf(n)>=0)&&(t.receiveAttack(n)&&alert("".concat(e," won!")),!0)}}};var v=function(){var e=f(),t=f(),n=m("Human",t),i=m("Computer Overlord",e);return Object(r.useEffect)((function(){var r=document.querySelectorAll(".grid"),a=function(r){if(r.getAttribute("data-key")<65&&n.fireShot(parseInt(r.getAttribute("data-key")))){for(var a=0;a<t.hitShots.length;a++)document.querySelector("[data-key='".concat(t.hitShots[a],"']")).classList.add("hit");for(var o=0;o<t.missedShots.length;o++)document.querySelector("[data-key='".concat(t.missedShots[o],"']")).classList.add("miss");setTimeout((function(){for(var t=Math.floor(64*Math.random())+65;!i.fireShot(t);)t=Math.floor(64*Math.random())+65;for(var n=0;n<e.hitShots.length;n++)document.querySelector("[data-key='".concat(e.hitShots[n],"']")).classList.add("hit");for(var r=0;r<e.missedShots.length;r++)document.querySelector("[data-key='".concat(e.missedShots[r],"']")).classList.add("miss")}),50)}};return r.forEach((function(e){e.addEventListener("click",(function(){a(e)}))})),function(){r.forEach((function(e){e.removeEventListener("click",(function(){a(e)}))}))}}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"header",children:Object(c.jsx)(s,{})}),Object(c.jsxs)("div",{className:"main",children:[Object(c.jsx)(u,{playerName:"Player",board:e}),Object(c.jsx)(h,{playerName:"Computer",board:t})]})]})};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.f0b5d9cd.chunk.js.map